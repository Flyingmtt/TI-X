## 模型镜像管理
模型镜像管理模块维护了系统所有的模型镜像。镜像类型有两种：通用类镜像和业务类镜像。其中通用类型镜像可适用于多个生产环境场景，没有特定的业务信息绑定；业务类型镜像是指对某种特定生产环境专门制作的镜像，绑定了产品层级的业务信息。每一个镜像组都有不同版本的镜像组成，同一镜像组对应于相同的镜像名称和生产环境信息。
### 导入镜像
点击页面上方【导入】按钮，开始导入模型镜像操作。
![avatar](/pics/导入镜像.png)

输入信息：

- 镜像类型：选择镜像类型：通用类型镜像或业务类型镜像

- 任务类型：选择任务类型，任务类型选项在“任务类型主数据”里维护。
- 生产环境选择：若选择业务类型镜像，需要在导入里绑定生产环境，其中工厂、厂别和站点信息筛选框为单选操作，产品信息筛选框为多选，即一个镜像可适用于多个产品。
![avatar](/pics/导入业务镜像.png)

- 镜像文件上传：

第一步：选择上传方式。镜像文件通过两种方式上传。第一种是通过本地文件上传；第二种可以通过输入远程服务器路径进行上传。请确保输入路径下已存在有效的模型镜像文件。

第二步：等待镜像上传。镜像文件一般比较大，导入过程分为两步：第一步为镜像上传过程，当选择上传文件或者输入远程路径以后，镜像开始上传，等到上传进度条显示为100%，单击【立即导入】，返回镜像列表。

第三步：等待镜像加载。镜像导入以后还需要等待一段时间进行后台加载，该状态可在镜像列表的下拉菜单项里进行查看。当加载状态显示为“成功”时，镜像导入成功；加载状态显示为“失败”时，镜像导入失败。
![avatar](/pics/镜像加载.png)


> 导入模型镜像命名要求：<模型镜像名称>@<模型镜像版本>(例如：image@123)，其中，name 和 tag 允许的字符集为 [a-zA-Z0-9._-]

> 导入模型镜像版本说明：首次导入成功的镜像版本默认为v1.0。

**镜像上传异常情况说明：**

1. 远程路径导入时，如果无法找到对应路径，系统则会返回错误消息”当前路径下无法找到有效的模型镜像文件”；
2. 如导入的镜像文件名称不满足模型镜像命名要求，则返回错误消息”模型镜像文件名称不满足格式要求”；
3. 若导入的模型镜像的<模型镜像名称>已在列表中存在，返回错误消息”模型镜像已存在，请从新增版本入口追加新版本”，此时需要通过新增版本进行镜像的导入。

### 镜像管理
用户可以对已经上传成功的镜像进行新增版本、删除、导出镜像和查看详情的操作。单击镜像列表的下拉框，可显示该镜像的不同镜像版本。
![avatar](/pics/镜像管理.png)
#### 新增镜像版本
单击【新增版本】，可进行镜像版本的新增，新增镜像版本继承该镜像前一版本的名称和生产环境信息，每成功导入一个镜像文件，版本号默认加1。

#### 删除镜像
单击某一镜像版本的【删除】按钮，可彻底删除该镜像文件。
#### 导出镜像
单击某一镜像版本的【导出镜像】按钮，可将该镜像文件下载到本地。镜像导出过程中有百分比进度提示，导出完成后显示100%。
![avatar](/pics/镜像导出.png)

#### 查看详情
单击镜像列表的【查看详情】，可显示该镜像组详细信息，包括镜像组名称，版本数，任务类型等。
![avatar](/pics/查看详情.png)
#### 筛选镜像
镜像列表上方有生产环境层级的筛选框：工厂、厂别、站点、产品，这四个筛选过滤框为级联关系，用户可以通过依次选择想要筛查的镜像所属的工厂、厂别、站点和产品来筛选出符合条件的镜像。
